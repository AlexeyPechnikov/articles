# Сравнение спектрограмм для бесплатно доступных данных с гиперспектральных и мультиспектральных спутников

Опубликовано https://habr.com/ru/post/504742/

Совсем недавно новый гиперспектральный спутник ASI PRISMA открыл доступ к архиву данных с момента запуска в марте 2019 года и, вдобавок, предоставляет возможность заказать съемку на любую интересующую территорию, смотрите [PRISMA Mission Selection](http://prisma.asi.it/missionselect/) Все это доступно бесплатно с лимитом в 218 доступных к заказу и скачиванию сцен площадью 30х30 км с панхроматическим разрешением 5м и гиперспектральным разрешением 30м для 239 каналов! Спутник новый, его техническое тестирование только что закончилось и потому практически ничего о нем еще не известно. Давайте сами выясним, чем может быть интересен этот спутник, сравнив его снимки с другими открыто доступными гиперспектральными и мультиспектральными снимками.

Для сравнения спектрограмм выберем территорию в Индонезии - там мне удалось найти пересечение доступных сцен ASI PRISMA и другого гиперспектрального спутника EO-1 HYPERION, в то время как остальные используемые датасеты доступны на всю или почти всю территорию планеты. Итак, мы посмотрим спектрограммы следующих спутниковых миссий и предоставляемых ими наборов данных: ASI PRISMA L2C (30м), EO-1 HYPERION 1T (30м), Sentinel-3 OLCI EFR (300м), Sentinel-2 MSI (10/20/60м), ASTER L1T (15/30/90м), USGS Landsat 8 SR (30м). Для сравнения выбраны три безоблачных участка: густой лес (Wood), соленая вода не слишком близко к берегу (Water) и территория суши без заметной растительности (Land).

![](https://habrastorage.org/webt/r3/vq/k6/r3vqk6e5ssjm-4wmbe2u9tia6gi.jpeg)

<cut />

## Исходные данные и код

Скрипты Google Earth Engine (GEE) для подготовки данных и ноутбуки Jupyter Notebook Python 3, а также полученные графики, доступны в GitHub репозитории [Compare Spectrograms of Hyperspectral and Multispectral Satellite Missions](https://github.com/mobigroup)

Для построения показанных спектрограмм предварительно необходимо получить следующие наборы данных:

* Скачайте продукт PRS_L2C_STD_20200413023942_20200413023947_0001.zip из официального каталога [PRISMA Mission Selection](http://prisma.asi.it/missionselect/)
* Скачайте продукт EO1H1150662006130110PY_1T.ZIP из официального каталога [USGS EROS Archive - Earth Observing One (EO-1) - Hyperion](https://www.usgs.gov/centers/eros/science/usgs-eros-archive-earth-observing-one-eo-1-hyperion?qt-science_center_objects=4#qt-science_center_objects)
* Используйте предоставленные в гитхаб-репозитории скрипты Google Earth Engine (\*.js) для получения на нужную территорию безоблачных композитов в формате многоканальных файлов GeoTiff: [Google Earth Engine](https://code.earthengine.google.com/)

Обратим внимание, что используемые данные несколько разнородны. Дело в том, что разные спутниковые миссии предоставляют отличающиеся уровни обработки данных в диапазоне от сырых не калиброванных данных (зарегистрированное излучение на сенсорах) и до вычисленного коэффициента отражения поверхности (требуется калибровка данных с сенсоров, учет положения Солнца, свойств атмосферы, рельефа). В каждом случае мы выбираем максимально доступный уровень обработки (для представленных спутниковых миссий это оправдано, хотя в общем случае накопление ошибок обработки может делать данные непригодными).

## Сравнение спектрограмм гиперспектральных и мультиспектральных спутниковых снимков

![Compare hyperspectral and multispectral products on West Sumbawa, Indonesia](https://habrastorage.org/webt/vh/fi/3p/vhfi3pqentrojoj6sai4cpwldac.jpeg)

## Сравнение снимков гиперспектральных спутников ASI PRISMA и EO-1 HYPERION

![Compare hyperspectral products ASI PRISMA Normed Reflectance and EO-1 HYPERION Radiance on West Sumbawa, Indonesia](https://habrastorage.org/webt/ld/it/r4/lditr4zhamflwlvfnhderyqrwzq.jpeg)

## Сравнение инфракрасных космических снимков ASTER L1T и USGS Landsat 8

Эта область спектра в основном используется для вычисления температуры поверхности, а пространственное разрешение предоставляется только минимально доступное для каждого спутника.

![Compare SWIR and Thermal bands of ASTER L1T Radiance and USGS Landsat 8 Surface Reflectance Tier 1 on West Sumbawa, Indonesia](https://habrastorage.org/webt/kk/lt/t0/kkltt0puswn6tekjnf-ukhob9jk.jpeg)

## Заключение

Как видим из приведены выше графиков, PRISMA при достаточно хорошем разрешении 30м предоставляет широкую спектральную полосу в видимом и ближнем инфракрасном диапазонах и очень высокую детализацию по сравнению со всеми остальными рассмотренными наборами данных. Данные Sentinel-3 разрешением 300м в видимом диапазоне (и немного больше, как видим на спектрограммах) были одними из лучших, но теперь PRISMA предлагает и спектральное и пространственное разрешение выше на десятичный порядок. HYPERION при сходном спектральном и пространственном разрешении очень чувствителен к так называемым окнам прозрачности атмосферы - на спектрограмме видны явственные "провалы", так что реально пригодная к использованию ширина спектра оказывается вдвое ниже заявленной, да и в этой области наблюдаются указанные проблемы. Остальные спутники и вовсе не конкуренты. Панхроматический канал (не цветной) PRISMA тоже заслуживает внимания - разрешение 5м вдвое лучше, чем доступные глобально космические снимки Sentinel-2 и втрое, чем глобальные снимки Landsat-8. А кроме всего перечисленного и в отличие от HYPERION, PRISMA обеспечивает маски качества пикселов для каждого канала, делая фильтрацию облаков (и теней от них) намного проще. Отметим, что дальний ИК для PRISMA недоступен, вероятно, потому, что там много каналов и не нужно, поскольку спектральное разрешение низкое (как и пространственное).

Поживем-увидим, как говорится, если PRISMA обеспечит глобальное покрытие (хотя бы и в один проход) - это кардинально изменит всю отрасль, работающую с космическими снимками. Сейчас для интереса поднимаю данные по старому проекту дистанционного анализа залежей меди, свинца и цинка на территории Индонезии (рассмотренная территория) и попробую сделать анализ с помощью данных PRISMA - вероятно, теперь удастся оценить как территорию залегания (это и раньше делалось, с доводкой до ума геологом, а теперь должно алгоритмизироваться полностью), так и продуктивную глубину (раньше со этим было сложно, получалось только фрагментарно).

P.S. А еще в представленных ноутбуках можно посмотреть, как создать XArray датасет в географических координатах из HDF5 данных и показать его на карте в выбранной проекции с помощью matplotlib и cartopy.