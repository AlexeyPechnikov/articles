# Общедоступные данные дистанционного зондирования Земли: как получить и использовать

Опубликовано https://habr.com/ru/post/505578/

Дистанционное зондирование Земли (ДЗЗ) — наблюдение поверхности Земли наземными, авиационными и космическими средствами, оснащёнными различными видами съемочной аппаратуры [википедия]. Поговорим о возможностях, предоставляемых бесплатными и общедоступными данными. Всего не перечислить, поэтому расскажу только о том, с чем я сам работаю, все примеры кода и картинки мои собственные. Исходный код по ссылкам представлен на языке Python 3 в виде Jupyter Notebooks на GitHub.

Картинка ниже показывает смещение поверхности Земли относительно спутника (красным цветом обозначено смещение вверх и синим - вниз) в результате землетрясения (6.5 баллов) - как видим, горы "подросли" (на 20-30 см) и долины углубились (на 15-20 см). Можно ли это замерить локально? Да, с помощью сети наземных приемников GPS, для которых местоположение можно вычислить с очень высокой точностью, но это дорого и сложно, а точность спутниковых наблюдений уже превосходит наземные. Кстати, показанная интерферограмма вычислена за пару часов на обычном лаптопе с помощью Open Source утилит [GMTSAR](https://topex.ucsd.edu/gmtsar/) (фактически, это расширение для знаменитых в области наук о Земле утилит GMT).

![](https://habrastorage.org/webt/yi/m3/3t/yim33tnueij7o_0dwwxg3m4-404.jpeg)
*Как растут горы - спутниковая интерферограмма землетрясения магнитудой 6.5 баллов в Монте Кристо, Невада, США*

<cut/>

## Где брать данные ДЗЗ

Данные спутниковых аппаратов по отдельности доступны в каталогах управляющих спутниками организаций, а еще существуют открытые каталоги, включающие множество датасетов, особенно интересен каталог [Google Earth Engine Datasets](https://earthengine.google.com/datasets/), все данные из которого могут быть бесплатно обработаны с помощью системы [Google Earth Engine: A planetary-scale platform for Earth science data & analysis](https://earthengine.google.com). Каталог включает амплитудные радарные снимки, но не фазовые (поскольку операции усреднения и другие для них не имеют смысла, из них нельзя построить композит на всю территорию планеты и в глобальном каталоге они бесполезны). Для получения оптических и радарных снимков со спутников Sentinel-1 и Sentinel-2 удобна Python библиотека [SentinelSat](https://pypi.org/project/sentinelsat/), для скачивания рельефа SRTM 30м и 90м  существует Python библиотека [Elevation](https://pypi.org/project/elevation/). Смотрите также продукты в виде GeoTIFF или NetCDF файлов на сайтах:

* [Sandwell and Smith Gravity Anomaly and Vertical Gravity Gradient](ftp://topex.ucsd.edu/pub/global_grav_1min/)
* [GEBCO Gridded Bathymetry Data](https://www.gebco.net/data_and_products/gridded_bathymetry_data/)
* [WGM2012 Earth's gravity anomalies](http://bgi.omp.obs-mip.fr/data-products/Grids-and-models/wgm2012)
* [EMAG2: Earth Magnetic Anomaly Grid (2-arc-minute resolution)](http://geomag.org/models/emag2.html)
* [GGMplus (Global Gravity Model plus) is Open Gravity Acceleration dataset](http://bgi.omp.obs-mip.fr/data-products/Grids-and-models/GGMplus2013-gravity-model)
* [ALOS Global Digital Surface Model "ALOS World 3D - 30m (AW3D30)"](https://www.eorc.jaxa.jp/ALOS/en/aw3d30/index.htm)
* [SRTM 90m Digital Elevation Database v4.1](https://cgiarcsi.community/data/srtm-90m-digital-elevation-database-v4-1/)

## Примеры данных ДЗЗ

Спутники на удивление много всего умеют измерять, и часто с поразительной точностью, а главное, многие собранные данные бесплатны и легко доступны. Что интересно, десятилетие назад точность и количество данных дистанционного зондирования, разумеется, уступали современным, но скорее количественно (доступное разрешение выросло в несколько раз, частота получения данных увеличилась, орбиты спутников стали известны точнее и это улучшило качество обработки результатов измерений и т.п.), чем качественно. Перечислим некоторые популярные и открыто доступные данные:

* спутниковые снимки в разных диапазонах (видимые, инфракрасные, тепловые) с аппаратов Landsat 8 разрешением 15/30/100м (также доступны архивы Landsat 7 и более ранних, только следует учесть, что оптика Landsat 7 постепенно деградировала и не все снимки одинаково полезны), Sentinel 2 разрешением 10/20/60м и другие;
* радарные снимки Sentinel 1 разрешением от 5х5м и другие;
* гиперспектральные снимки (больше двухсот каналов) HYPERION разрешением 30м (однако, бесплатно доступные снимки HYPERION очень мало где есть, так что редко могут пригодиться) и PRISMA (спутник новый и еще не "обкатанный", в архиве мало снимков доступно и их качество, зачастую, оставляет желать лучшего);
* спутниковая альтиметрия (измеряют расстояние от спутника до земной поверхности, особенно полезны для точного картирования уровня водной поверхности) - разрешение зависит от плотности спутниковых треков для данной местности и выбранных алгоритмов обработки, измерения уровня производится с точностью порядка сантиметров и даже миллиметров;
* спутниковая гравиметрия (измерение гравитационного поля Земли, сокращенно - гравика) разрешением порядка десятков километров;
* спутниковая магнитометрия (измерение магнитного поля Земли, сокращенно - магнитка) разрешением порядка десятков километров;
* а также другие данные.

![](https://habrastorage.org/webt/a2/oz/6v/a2oz6vsi4n1v7ux2ljh02yndypk.jpeg)
[Compare Spectrograms of Hyperspectral and Multispectral Satellite Missions](https://github.com/mobigroup/satellite-spectrogram)

## Что еще можно узнать о Земле по данным ДЗЗ

Результаты прямых дистанционных измерений не только широко используются сами по себе, но и служат основой для получения многих других результатов, включая:

* глобальные модели рельефа (для почти всей территории планеты) SRTM, ALOS, ASTER разрешением от 30м (использованы методы анализа стереопар снимков, радарные съемки и данные со спутниковых альтиметров);
* глобальные гравитационные модели WGM2012, Sandwell & Smith Gravity разрешением около 4км (на основе спутниковой гравиметрии и глобального рельефа ETOPO1), глобальная гравитационная модель GGM plus 2013 разрешением около 200м (на основе спутниковой гравиметрии и данных рельефа SRTM 90м);
* глобальная модель батиметрии GEBCO 2020 разрешением около 500м (использованы данные спутниковой гравиметрии, альтиметрии, глобальный рельеф и, вдобавок, судовые измерения);
* карты различных композитов из оптических и инфракрасных каналов снимков, включая вегетационный индекс NDVI (используется для выделения областей с растительностью на снимках и оценки ее состояния) и многие другие;
* карты загрязнения воздуха, облачности и прочие составляются на основе специализированных каналов спутниковых снимков.

Перечисленные глобальные модели очень полезны, например, решением обратной задачи гравики можно восстановить соответствующее распределение гравитационных потенциалов, то есть построить модель (аномалий) геологической плотности:

![](https://habrastorage.org/webt/zm/i4/7k/zmi47kemo8ejrdasf2c_qrnh_7w.jpeg)
*Геологическая модель островов Фого (справа) и Брава (слева), Кабо-Верде
*
А кроме того, для детального изучения территорий существует множество способов локального улучшения разрешения данных.

## Пример: создание локальных гравитационных карт высокого разрешения

Можно построить детальные гравитационные карты, используя спутниковую гравиметрию и детальный рельеф (30м и точнее) или космические снимки (10м). Здесь и далее подразумевается вертикальная компонента гравитационного поля.

Что интересно, многие отечественные геофизики не понимают, как это возможно (преобразование Фурье явно "прошло" мимо них), хотя методики построения глобальных гравитационных моделей (доступны только в оригинале, то есть, на английском языке) WGM2012, Sandwell & Smith Gravity, GGM plus 2013 общедоступны. Впрочем, совсем не обязательно их читать целиком, поскольку основой служит простой и легко проверяемый факт. Посмотрим вот эти графики корреляции (в некоторых источниках используется термин когерентность, хотя сами вычисления аналогичны) между гравитационным полем и рельефом:

![](https://habrastorage.org/webt/kc/_u/_p/kc_u_phjwc9cbb9lysqvaew-bck.jpeg)
*[https://www.linkedin.com/pulse/computing-coherence-between-two-dimensional-gravity-grids-pechnikov/](Spectral Coherence between Gravity and Bathymetry Grids)*

Здесь слева показано значение корреляции между гравитационными данными и батиметрией (рельефом дна), сдвиг от нуля вправо по оси абсцисс объясняется тем, что гравитационные данные измерены на поверхности, а батиметрия (очевидно) на дне, при этом глубина изучаемой территории составляет 3-4км. Справа показан график, аналогичный полученному в известной статье от НАСА (включена в сборник рецептов для батиметрии GEBCO, в статье по ссылке описано подробнее), где также есть аналогичное смещение от нуля по оси абсцисс. Длина волны означает характерный размер неоднородности; как видим, мы можем вычислить значение гравитации по батиметрии (рельефу дна). Разумеется, на суше все аналогично, просто оригинальная статья относится именно к данным батиметрии. Подробности и исходный код доступны по ссылке выше.

Ключевым моментом является линейная связь спектральных компонент гравитационного поля и рельефа - для каждой длины волны (характерного размера неоднородностей) отношение спектральных компонент постоянно. Однако, поскольку это отношение является функцией длины волны, линейная связь между непосредственно гравикой и рельефом отсутствует! Замечу, что характер этой связи известен (да, в общем, и очевиден - амплитуда компонент должна быстро уменьшаться, чтобы энергия поля была конечной) и по нему можно вычислять геологическую плотность через индекс фрактальности, но это, как говорится, совсем другой разговор, ограничусь просто ссылкой на статью и программный код: [The Density-Depth Model by Spectral Fractal Dimension Index](https://www.linkedin.com/pulse/density-model-spectral-fractal-dimension-index-alexey-pechnikov/)

Пример вычисления локальной гравики высокого разрешения по данным рельефа (исходный код доступен по ссылке ниже):

![](https://habrastorage.org/webt/qo/nc/my/qoncmyke01xvfpdyrjygz3pvh7a.jpeg)
*[Build Super-resolution Gravity from GGMplus Free-Air Gravity Anomaly (200m) enhanced by SRTM topography (30m)](https://www.linkedin.com/pulse/build-super-resolution-gravity-from-ggmplus-free-air-200m-pechnikov/)*

Аналогично можно использовать и ортофотоснимки или космоснимки для улучшения детальности рельефа (исходный код доступен по ссылке ниже):

![](https://habrastorage.org/webt/4k/k4/mq/4kk4mqczjtx3lknxdm9cfehnwzs.jpeg)

[Build Super-resolution DEM 0.5m from DEM 1m enhanced by one orthophoto image 0.5m](https://github.com/mobigroup/gis-snippets/blob/master/Elevation1%20-%20Mashhad%2C%20Iran/dem-super-resolution.ipynb)

В каждом случае, перед вычислениями необходимо строить коррелограмму, как описано выше, и проверять наличие высокой корреляции между спектральными компонентами. При отсутствии такой корреляции исходные данные некорректны и качества результатов окажется непредсказуемым. Причинами отсутствия корреляции могут быть ошибки позиционирования данных друг относительно друга (существенное смещение координат) или плохое качество снимка (заметные облака или невидимая глазом облачная дымка), а также некорректность используемой в качестве основы гравики на выбранной территории (например, качество модели гравики GGM plus 2013 хорошее на территории Индонезии и плохое в Южной Америке).

## Заключение

Существует еще множество вариантов использования данных дистанционного зондирования Земли и при наличии общедоступных и бесплатных платформ для их облачной обработки, таких, как  [Google Earth Engine: A planetary-scale platform for Earth science data & analysis](https://earthengine.google.com) каждый может попробовать свои силы. Google Earth Engine (GEE) предоставляет также множество примеров скриптов, в том числе, для визуализации каждого доступного набора данных. Аналогично, Open Source утилиты [GMTSAR](https://topex.ucsd.edu/gmtsar/) сопровождаются множеством примеров и обширной документацией.